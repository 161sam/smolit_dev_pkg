# Security Report

## Findings
n8n/sd-bridgeProxy-example.sh:1:curl -X POST http://localhost:5678/webhook/sd/bridge \
README.old.md:37:> Nicht nötig, da `sd` lokal/npx fallbackt – aber bequem.
README.old.md:105:curl -sSf http://127.0.0.1:3311       # GUI
README.old.md:106:curl -sSf http://127.0.0.1:8811/healthz  # SSE seq
README.old.md:107:curl -sSf http://127.0.0.1:8812/healthz  # SSE mem
README.old.md:108:curl -sSf http://127.0.0.1:8815/healthz  # Bridge
README.old.md:117:* **`claude` nicht gefunden**: Die Bridge fällt auf `npx @anthropic-ai/claude-code` zurück.
README.old.md:131:rm -rf ~/.config/smolit_dev ~/.openhands/logs ~/.mcp/memory
SECURITY.md:6:- The HTTP bridge shell-spawns `npx @anthropic-ai/claude-code` on demand; restrict allowed tools via `SD_ALLOWED_TOOLS` and avoid `--dangerously-skip-permissions` in production.
README.md:198:rm -rf ~/.config/smolit_dev ~/.local/state/smolit_dev ~/.cache/smolit_dev
bin/sd-launch.cjs:33:    const child = spawn(bash, [bashScript, ...args], { stdio: 'inherit', env: process.env });
bin/sd-launch.cjs:36:    const child = spawn(bashScript, args, { stdio: 'inherit', env: process.env });
bin/bridge.mjs:43:    const child = spawn("npx", args, { env, stdio: ["ignore", "pipe", "pipe"] });
bin/sd:11:#  Requirements: bash, docker, node>=18, curl (jq optional)
bin/sd:229:    curl -fsS "http://127.0.0.1:$BRIDGE_PORT/healthz" >/dev/null 2>&1 && break || true
bin/sd:248:  if ! curl -fsS -m 1 "$LM_BASE_URL/models" >/dev/null 2>&1; then
bin/sd:264:    curl -fsS "http://127.0.0.1:$OH_PORT" >/dev/null 2>&1 && break || true
bin/sd:291:    if curl -fsS "$url" >/dev/null 2>&1; then
bin/sd:315:  for b in node npm docker npx curl; do
bin/sd:382:    curl -fsS "$url" | jq -r '
bin/sd:386:    curl -fsS "$url" || true
bin/sd:401:  curl -fsS --get "http://127.0.0.1:$BRIDGE_PORT/run" \
bin/sd:409:  curl -fsS --get "http://127.0.0.1:$BRIDGE_PORT/run" \
bin/postinstall.mjs:56:    console.log(`[postinstall] Hinweis: Du kannst optional 'npm i -g ${pkg}' installieren (sd fällt sonst auf npx zurück).`);
reports/BAK_PARITY.md:6:| bin/sd.bak | bin/sd | --- bin/sd	2025-09-01 09:57:48.295533189 +0200 +++ bin/sd.bak	2025-08-31 15:01:00.095892367 +0200 @@ -1,557 +1,386 @@ #!/usr/bin/env bash -# ============================================================================== -# sd — smolit_dev CLI -# One-command Dev-Stack: OpenHands (Docker) + MCP (SSE) + Claude & Codex Bridge -# Features: -# • sd up / start / stop / status / logs [-f] / ports doctor / deps {install,install-global,doctor} -# • sd project init / sd init / sd mcp status -# • sd analyze / sd index / sd test / sd next -# • sd keys init / sd llm {list,use <id>} -# • sd start-repl / sd send init "…" / sd send c "…" / sd c "…" -# Requirements: bash, docker, node>=18, curl (jq optional) -# Cross-platform: Linux, macOS; Windows via Node-Launcher + Git Bash -# ============================================================================== - -set -Eeuo pipefail -IFS=$'\n\t' - -# ===== Colors ===== -if [[ -t 1 ]]; then - cCyan=$'\e[36m'; cYel=$'\e[33m'; cRed=$'\e[31m'; cDim=$'\e[2m'; cOff=$'\e[0m' -else - cCyan=""; cYel=""; cRed=""; cDim=""; cOff="" -fi -log() { echo -e "${cCyan}[sd]${cOff} $*"; } -warn() { echo -e "${cYel}[sd warn]${cOff} $*" >&2; } -die() { echo -e "${cRed}[sd err]${cOff} $*" >&2; exit 1; } -need() { command -v "$1" >/dev/null 2>&1 \|\| die "Missing dependency: $1"; } - -# ===== Banner ===== -banner() { - cat <<'BANNER' - ____ __ __ ____ _ ___ _____ - / ___\| \| \/ \| / __ \ \| \| \|_ _\| \|_ _\| - \___ \ \| \|\/\| \| \| \| \| \| \| \| \| \| \| \| - ___) \| \| \| \| \| \| \|__\| \| \| \|___ \| \| \| \| - \|____/ \|_\| \|_\| \____/ \|_____\| \|___\| \|_\| _dev -  | high | merge |
reports/BAK_PARITY.md:7:| bin/sd.bak.keepmem | bin/sd | --- bin/sd	2025-09-01 09:57:48.295533189 +0200 +++ bin/sd.bak.keepmem	2025-08-31 15:51:31.989856957 +0200 @@ -1,557 +1,386 @@ #!/usr/bin/env bash -# ============================================================================== -# sd — smolit_dev CLI -# One-command Dev-Stack: OpenHands (Docker) + MCP (SSE) + Claude & Codex Bridge -# Features: -# • sd up / start / stop / status / logs [-f] / ports doctor / deps {install,install-global,doctor} -# • sd project init / sd init / sd mcp status -# • sd analyze / sd index / sd test / sd next -# • sd keys init / sd llm {list,use <id>} -# • sd start-repl / sd send init "…" / sd send c "…" / sd c "…" -# Requirements: bash, docker, node>=18, curl (jq optional) -# Cross-platform: Linux, macOS; Windows via Node-Launcher + Git Bash -# ============================================================================== - -set -Eeuo pipefail -IFS=$'\n\t' - -# ===== Colors ===== -if [[ -t 1 ]]; then - cCyan=$'\e[36m'; cYel=$'\e[33m'; cRed=$'\e[31m'; cDim=$'\e[2m'; cOff=$'\e[0m' -else - cCyan=""; cYel=""; cRed=""; cDim=""; cOff="" -fi -log() { echo -e "${cCyan}[sd]${cOff} $*"; } -warn() { echo -e "${cYel}[sd warn]${cOff} $*" >&2; } -die() { echo -e "${cRed}[sd err]${cOff} $*" >&2; exit 1; } -need() { command -v "$1" >/dev/null 2>&1 \|\| die "Missing dependency: $1"; } - -# ===== Banner ===== -banner() { - cat <<'BANNER' - ____ __ __ ____ _ ___ _____ - / ___\| \| \/ \| / __ \ \| \| \|_ _\| \|_ _\| - \___ \ \| \|\/\| \| \| \| \| \| \| \| \| \| \| \| - ___) \| \| \| \| \| \| \|__\| \| \| \|___ \| \| \| \| - \|____/ \|_\| \|_\| \____/ \|_____\| \|___\| \|_\| _dev -  | high | merge |
reports/BAK_PARITY.md:8:| bin/sd.bak.new | bin/sd | --- bin/sd	2025-09-01 09:57:48.295533189 +0200 +++ bin/sd.bak.new	2025-09-01 08:18:19.946759728 +0200 @@ -1,51 +1,29 @@ #!/usr/bin/env bash -# ============================================================================== -# sd — smolit_dev CLI -# One-command Dev-Stack: OpenHands (Docker) + MCP (SSE) + Claude & Codex Bridge -# Features: -# • sd up / start / stop / status / logs [-f] / ports doctor / deps {install,install-global,doctor} -# • sd project init / sd init / sd mcp status -# • sd analyze / sd index / sd test / sd next -# • sd keys init / sd llm {list,use <id>} -# • sd start-repl / sd send init "…" / sd send c "…" / sd c "…" -# Requirements: bash, docker, node>=18, curl (jq optional) -# Cross-platform: Linux, macOS; Windows via Node-Launcher + Git Bash -# ============================================================================== - +# sd — One-command Dev-Stack (OpenHands + MCP + Claude-Bridge) +# Robust CLI for starting/stopping the stack and running repo-centric AI helpers. set -Eeuo pipefail IFS=$'\n\t' -# ===== Colors ===== +# ===== Trap & Strictness ===== +cleanup() { + # nothing persistent to clean; placeholder for future temp-files + : +} +trap cleanup EXIT + +# ===== Colors (fallback if not TTY) ===== if [[ -t 1 ]]; then cCyan=$'\e[36m'; cYel=$'\e[33m'; cRed=$'\e[31m'; cDim=$'\e[2m'; cOff=$'\e[0m' else cCyan=""; cYel=""; cRed=""; cDim=""; cOff="" fi + log() { echo -e "${cCyan}[sd]${cOff} $*"; } warn() { echo -e "${cYel}[sd warn]${cOff} $*" >&2; } die() { echo -e "${cRed}[sd err]${cOff} $*" >&2; exit 1; }  | high | merge |
reports/BAK_PARITY.md:9:| bin/sd.bak.new2 | bin/sd | --- bin/sd	2025-09-01 09:57:48.295533189 +0200 +++ bin/sd.bak.new2	2025-09-01 08:40:11.785515317 +0200 @@ -1,20 +1,13 @@ #!/usr/bin/env bash -# ============================================================================== -# sd — smolit_dev CLI -# One-command Dev-Stack: OpenHands (Docker) + MCP (SSE) + Claude & Codex Bridge -# Features: -# • sd up / start / stop / status / logs [-f] / ports doctor / deps {install,install-global,doctor} -# • sd project init / sd init / sd mcp status -# • sd analyze / sd index / sd test / sd next -# • sd keys init / sd llm {list,use <id>} -# • sd start-repl / sd send init "…" / sd send c "…" / sd c "…" -# Requirements: bash, docker, node>=18, curl (jq optional) -# Cross-platform: Linux, macOS; Windows via Node-Launcher + Git Bash -# ============================================================================== - +# sd — One-command Dev-Stack (OpenHands + MCP + Claude-Bridge) +# Robust CLI for starting/stopping the stack, sending prompts, and repo-centric AI helpers. set -Eeuo pipefail IFS=$'\n\t' +# ===== Trap ===== +cleanup() { :; } +trap cleanup EXIT + # ===== Colors ===== if [[ -t 1 ]]; then cCyan=$'\e[36m'; cYel=$'\e[33m'; cRed=$'\e[31m'; cDim=$'\e[2m'; cOff=$'\e[0m' @@ -26,25 +19,6 @@ die() { echo -e "${cRed}[sd err]${cOff} $*" >&2; exit 1; } need() { command -v "$1" >/dev/null 2>&1 \|\| die "Missing dependency: $1"; } -# ===== Banner ===== -banner() { - cat <<'BANNER' - ____ __ __ ____ _ ___ _____ - / ___\| \| \/ \| / __ \ \| \| \|_ _\| \|_ _\| - \___ \ \| \|\/\| \| \| \| \| \| \| \| \| \| \| \| - ___) \| \| \| \| \| \| \|__\| \| \| \|___ \| \| \| \|  | high | merge |

## Notes
- Bridge spawns 'npx @anthropic-ai/claude-code' with API key from env.
- Postinstall writes to XDG dirs only; now gated by CI/NO_POSTINSTALL/SKIP_POSTINSTALL.
- No network actions occur in postinstall.
